metadata:
  name: "Hiru News"
  source_type: "news"
  base_url: "https://www.hirunews.lk"
  language: "multi"
  credibility_score: 0.85
  update_frequency_minutes: 20

scraping:
  method: "html"
  
  entry_points:
    - url: "https://www.hirunews.lk/english/local-news"
      type: "article_list"
      language: "en"
      pagination:
        enabled: true
        pattern: "https://www.hirunews.lk/english/local-news?page={page}"
        max_pages: 3
    
    - url: "https://www.hirunews.lk/local-news"
      type: "article_list"
      language: "si"
      pagination:
        enabled: true
        pattern: "https://www.hirunews.lk/local-news?page={page}"
        max_pages: 2
  
  selectors:
    article_list:
      container: "div.news-list"
      item: "div.news-item"
      link: "a::attr(href)"
      
    article_detail:
      title:
        selectors:
          - "h1.news-heading::text"
          - "//h1/text()"
        fallback: "meta[property='og:title']::attr(content)"
      
      body:
        selectors:
          - "div.news-content"
          - "div.article-body"
        cleanup:
          remove_tags: ["script", "style", "iframe"]
          remove_classes: [".ad-container", ".related-articles"]
      
      publish_date:
        selectors:
          - "span.date::text"
        format: "%Y-%m-%d %H:%M"
        fallback: "meta[property='article:published_time']::attr(content)"
      
      author:
        selectors:
          - "span.author::text"
        default: "Hiru News"
      
      category:
        selectors:
          - "span.category::text"
        mapping_required: true

  headers:
    User-Agent: "Mozilla/5.0 (Compatible; BusinessIntelBot/1.0)"
    Accept-Language: "en,si;q=0.9,ta;q=0.8"

  rate_limiting:
    requests_per_minute: 25
    delay_between_requests: 2.5
    respect_robots_txt: true

  validation:
    min_word_count: 30
    required_fields: ["title", "body"]
    url_pattern: "^https://www\\.hirunews\\.lk/"

preprocessing:
  language_detection:
    enabled: true
    fallback_language: "si"
  
  initial_cleaning:
    remove_urls: true
    remove_emails: true
    normalize_whitespace: true
    remove_html_entities: true

categorization:
  has_source_categories: true
  category_mappings:
    "Local News": "SOCIAL"
    "Breaking": "GENERAL"
    "Business": "ECONOMIC"
    "Politics": "POLITICAL"
    "Entertainment": "SOCIAL"
    "Sports": "SPORTS"

error_handling:
  max_retries: 3
  retry_delay: 60
  timeout: 30
  on_failure:
    notify: true
    fallback_to_rss: false
